<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Error - Super Mario</title>
    <link rel="icon" href="../../favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="../../styles/styles.css" />

    <script type="text/javascript">
      function getURLParameters() {
        const currentUrl = window.location.href;

        const urlParams = new URLSearchParams(new URL(currentUrl).search);

        const userName = urlParams.get('name');
        const userSubject = urlParams.get('subject');
        const userColor = urlParams.get('color');
        const userContent = urlParams.get('content');

        return {
          name: userName,
          subject: userSubject,
          color: userColor,
          content: userContent,
        };
      }

      window.onload = () => {
        getURLParameters();
      };

      let resultObject = getURLParameters();

      let testUserName = resultObject.name.trim();
      let testUserSubject = resultObject.subject;
      let testUserContent = resultObject.content.trim();

      if (testUserName === '') {
        window.alert(`It is rude not to introduce yourself ü§°`);
      } else if (testUserContent === '') {
        window.alert(`You missed your message... Try again`);
      } else if (resultObject.color === 'none-color') {
        window.alert(
          `I saw what you wrote!!\nDo not like colors??\nReally??\nThen, ${resultObject.name}, your ${resultObject.subject} "${resultObject.content}" goes nowhere... üóë`
        );
      } else if (resultObject.color === 'salmon') {
        window.alert(
          `${resultObject.name}, you have great taste in colors!\nAren't you an artist?`
        );
      } else if (resultObject.subject === 'question') {
        window.alert(
          `Hi, ${resultObject.name}!\nSorry, but I don't have an answer for your question:\n\n"${resultObject.content}"\n\nCome back later!`
        );
      } else {
        window.alert(
          `Aha!!\n‚úèÔ∏è ${resultObject.name}, you like ${resultObject.color} color the most and your ${resultObject.subject} is "${resultObject.content}"\nBut I won't tell anyone this precious information...\n\n\n\n\n...Maybe...`
        );
      }
    </script>
  </head>

  <body>
    <div class="wrapper">
      <header class="header">
        <div class="header__mobile-nav">
          <input type="checkbox" class="mobile-nav__toggle" id="toggle" />
          <div class="mobile-nav__item">
            <a class="nav__link" href="../../index.html">Home</a>
          </div>
          <div class="mobile-nav__item">
            <a class="nav__link" href="../gameplay/index.html">Gameplay</a>
          </div>
          <div class="mobile-nav__item">
            <a class="nav__link" href="../history/index.html">History</a>
          </div>
          <div class="mobile-nav__item">
            <a class="nav__link" href="../contact/index.html">Contact</a>
          </div>

          <label class="mobile-nav__floating-button" for="toggle">Menu</label>
        </div>

        <nav class="header__desktop-nav">
          <ul class="desktop-nav__list">
            <li>
              <a class="nav__link" href="../../index.html">Home</a>
            </li>
            <li class="desktop-nav__separator">&mdash;</li>
            <li>
              <a class="nav__link" href="../gameplay/index.html">Gameplay</a>
            </li>
            <li class="desktop-nav__separator">&mdash;</li>
            <li>
              <a class="nav__link" href="../history/index.html">History</a>
            </li>
            <li class="desktop-nav__separator">&mdash;</li>
            <li>
              <a class="nav__link" href="../contact/index.html">Contact</a>
            </li>
          </ul>
        </nav>
      </header>

      <main class="main">
        <section class="content__section">
          <h1 class="main__title title--multi-color cursor-mario">
            <span>E</span><span>r</span><span>r</span><span>o</span
            ><span>r</span>
          </h1>
        </section>
        <section>
          <div class="message__wrapper">
            <img src="../../img/gifs/mario-cat.gif" alt="" class="error__img" />
            <h2 class="section__title title--third">Sorry!</h2>
            <p class="section__text text--large text--center">
              <strong><u>The form does not work</u></strong> correctly yet and
              <b><u>does not send data anywhere</u></b
              >!
            </p>
            <p class="section__text text--small text--center">
              You can switch to another page using the menu at the top of the
              page.
            </p>
          </div>
        </section>
      </main>

      <footer class="footer">
        &mdash;
        <a href="https://github.com/elen-oz" target="_blank" rel="nofollow"
          >elen-oz</a
        >
        &mdash; &copy; 2023 &mdash;
        <span class="footer__text">
          <a
            href="https://github.com/elen-oz/hi-project_mario"
            target="_blank"
            rel="nofollow"
            >this project on GitHub</a
          >
          &mdash;
          <div class="footer__info">
            Information about the game is taken from open sources.
          </div>
        </span>
      </footer>
    </div>
  </body>
</html>
